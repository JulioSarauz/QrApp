apply plugin: 'com.android.application'

android {
  namespace "com.neiruzlab.app"
  compileSdk 35

  defaultConfig {
    applicationId "com.neiruzlab.app"
    minSdkVersion 23
    targetSdkVersion 35
    versionCode 27
    versionName "1.0.9"
    testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    aaptOptions {
      ignoreAssetsPattern '!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~'
    }
  }

  // >>> INICIO: Solución para la alineación de 16KB <<<
  packagingOptions {
    jniLibs {
      // Esta línea asegura que las librerías nativas (.so) se alineen a 16KB,
      // lo que mejora el rendimiento de carga y elimina la advertencia de Google Play.
      useLegacyPackaging = false
    }
  }
  // >>> FIN: Solución para la alineación de 16KB <<<

  signingConfigs {
    release {
      storeFile file("release-key.jks")
      storePassword "juliok64"
      keyAlias "my-key-alias"
      keyPassword "juliok64"
    }
  }

  buildTypes {
    release {
      signingConfig signingConfigs.release
      minifyEnabled true
      shrinkResources true
      proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'

      ndk {
        debugSymbolLevel 'FULL'
      }
    }
  }

}

repositories {
  flatDir{
    dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'
  }
}

dependencies {
  implementation fileTree(include: ['*.jar'], dir: 'libs')
  implementation "androidx.appcompat:appcompat:$androidxAppCompatVersion"
  implementation "androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion"
  implementation "androidx.core:core-splashscreen:$coreSplashScreenVersion"
  implementation project(':capacitor-android')
  testImplementation "junit:junit:$junitVersion"
  androidTestImplementation "androidx.test.ext:junit:$androidxJunitVersion"
  androidTestImplementation "androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion"
  implementation project(':capacitor-cordova-android-plugins')
  implementation ('com.google.android.gms:play-services-ads:22.6.0')
}

apply from: 'capacitor.build.gradle'
