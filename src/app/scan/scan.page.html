<app-cabecera></app-cabecera>

<ion-content class="ion-padding" fullscreen>

  <!-- Botón Volver al Menú -->
  <ion-button expand="block" class="boton-generar BotonColor" (click)="goToMenu()">
    <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
    Volver al Menú
  </ion-button>

  <!-- Contenedor para botones lado a lado -->
  <div class="button-row">
    <ion-button class="boton-generar BotonColor2" (click)="EscanearQrCamara()" *ngIf="!ContenidoQrTexto">
      <img src="assets/img/camera.png" alt="Logo QR" class="logo-qr" />
      Iniciar Escaneo
    </ion-button>

    <ion-button class="boton-generar BotonColor4" (click)="NuevaSolicitudEscaneo()" *ngIf="ContenidoQrTexto">
      <img src="assets/img/add.png" alt="Logo QR" class="logo-qr" />
      Nuevo Escaneo
    </ion-button>

    <ion-button class="boton-generar BotonColor3" (click)="cargarImagen($event)">
      <img src="assets/img/inbox.png" alt="Logo Cargar" class="logo-qr" />
      Cargar Imagen
    </ion-button>
    <!-- Input oculto para seleccionar archivo -->
    <input type="file" accept="image/*" #fileInput hidden (change)="leerQrImagen($event)">
  </div>

  <!-- Video de la cámara -->
  <div class="video-container" *ngIf="!ContenidoQrTexto">
  <video id="video" width="100%" height="auto"></video>
  <img src="assets/img/enfoque.png" alt="Guía de enfoque" class="overlay-enfoque" *ngIf="MostrarEnfoque">
</div>

  <!-- Texto o link del QR -->
  <div class="text-box" *ngIf="ContenidoQrTexto">
    <a *ngIf="esURL(ContenidoQrTexto)" [href]="ContenidoQrTexto" target="_blank">
      {{ ContenidoQrTexto }}
    </a>
    <p *ngIf="!esURL(ContenidoQrTexto)">
      {{ ContenidoQrTexto }}
    </p>
  </div>

  <!-- Botón copiar -->
  <ion-button expand="block" class="boton-generar BotonColor espacio" (click)="copiarContenidoQr()" *ngIf="ContenidoQrTexto">
    <img src="assets/img/files.png" alt="Logo QR" class="logo-qr" />
    Copiar Texto
  </ion-button>


</ion-content>
